name: Rollup Config and Genesis Diff

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  compute-genesis-diff:
    uses: superchain-registry/.github/workflows/diff-workflow.yml@3d49b7f8c232c0c07820d2bb1e77662eddf1ad49
    with:
      command: generate-genesis
      directory: generate-genesis
      message: "Detected nonzero diff in genesis. This PR modifies the genesis data of at least one chain in the registry, which may or may not have been intended"
  compute-rollup-config-diff:
    uses: superchain-registry/.github/workflows/diff-workflow.yml@3d49b7f8c232c0c07820d2bb1e77662eddf1ad49
    with:
      command: generate-rollup-config
      directory: generate-rollup-config
      message: "Detected nonzero diff in rollup config. This PR modifies the configuration of at least one chain in the registry, which may or may not have been intended"
